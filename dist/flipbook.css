.flipbook { position: relative; display: grid; grid-template-rows: 1fr; height: 100%; }
.flipbook-stage { display: grid; place-items: center; height: 100%; padding: 0; }
.flipbook-wrapper { position: relative; width: auto; height: min(90dvh, calc(min(92vw, 1400px) * 0.65)); aspect-ratio: 2 / 1.3; }
.flipbook-book { position: absolute; inset: 0; border-radius: 16px; overflow: hidden; background: linear-gradient(180deg, #0d1219, #0a0e14); box-shadow: 0 10px 30px rgba(0,0,0,0.35), 0 2px 10px rgba(0,0,0,0.3); }
.flipbook-spread { position: absolute; inset: 0; display: grid; grid-template-columns: 1fr 1fr; }
.flipbook-page { position: relative; overflow: hidden; background: #fff; }
.flipbook-page:after { content: ""; position: absolute; inset: 0; box-shadow: inset 0 0 50px rgba(0,0,0,0.25); pointer-events: none; }
.flipbook-page canvas { width: 100%; height: 100%; display: block; }
.flipbook-wrapper:before { content: ""; position: absolute; left: 50%; top: 0; bottom: 0; width: 2px; transform: translateX(-1px); background: linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0)); pointer-events: none; }
.flipbook-turn { position: absolute; inset: 0; perspective: 2000px; pointer-events: none; }
.flipbook-turn.hidden { display: none; }
.flipbook-turn canvas { position: absolute; top: 0; backface-visibility: hidden; transform-style: preserve-3d; }
.flipbook-turn-shadow { position: absolute; inset: 0; background: radial-gradient(100% 100% at 0% 50%, rgba(0,0,0,0.35), transparent 60%); mix-blend-mode: multiply; opacity: 0; }
.flipbook-nav { position: absolute; top: 50%; transform: translateY(-50%); width: 44px; height: 44px; border-radius: 999px; border: 1px solid rgba(255,255,255,0.12); background: rgba(10,14,20,0.35); color: #e8eef6; display: grid; place-items: center; opacity: 0; pointer-events: none; transition: opacity .18s ease; box-shadow: 0 6px 18px rgba(0,0,0,0.35); }
.flipbook-nav.left { left: 14px; }
.flipbook-nav.right { right: 14px; }
.flipbook-book:hover .flipbook-nav { opacity: 1; pointer-events: auto; }
.flipbook-nav:disabled { display: none; }
.flipbook-cover { grid-template-columns: 1fr; justify-items: center; align-items: stretch; }
.flipbook-cover .flipbook-page { background: transparent; }
.flipbook-cover .flipbook-page.left { display: none !important; }
.flipbook-cover .flipbook-page.right { background: #fff; width: auto; max-width: 52%; justify-self: center; }
.flipbook-wrapper.cover:before { display: none; }

.flipbook-single { grid-template-columns: 1fr; justify-items: center; align-items: stretch; }
.flipbook-single .flipbook-page.left { display: none !important; }
.flipbook-single .flipbook-page.right { background: #fff; width: auto; max-width: 100%; justify-self: center; }
.flipbook-wrapper.single:before { display: none; }
.flipbook-wrapper.single { width: auto; height: min(90dvh, calc(min(92vw, 900px) * 1.3)); aspect-ratio: 1 / 1.3; }

.flipbook-fullscreen { position: absolute; top: 12px; right: 12px; width: 36px; height: 36px; border-radius: 8px; border: 1px solid rgba(255,255,255,0.12); background: rgba(10,14,20,0.35); color: #e8eef6; display: grid; place-items: center; opacity: 0; pointer-events: none; transition: opacity .18s ease; box-shadow: 0 6px 18px rgba(0,0,0,0.35); }
.flipbook-book:hover .flipbook-fullscreen { opacity: 1; pointer-events: auto; }
.flipbook:fullscreen .flipbook-wrapper { width: auto; height: min(100dvh, calc(min(96vw, 1600px) * 0.65)); aspect-ratio: 2 / 1.3; }
.flipbook:fullscreen .flipbook-wrapper.single { width: auto; height: min(100dvh, calc(min(96vw, 1200px) * 1.3)); aspect-ratio: 1 / 1.3; }

